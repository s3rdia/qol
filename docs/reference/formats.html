<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create Format Container — formats • qol</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create Format Container — formats"><meta name="description" content="Create a format container which stores discrete or interval values
with corresponding labels that can be applied by using summarise_plus().
Create a format container independent from any data frame. Define which values
should be recoded into which new categories, if the format is applied to
a variable in a data frame.
It is possible to assign a single value to multiple new categories to create
a multilabel.
It is recommended to let format names end with a dot to make them stand out."><meta property="og:description" content="Create a format container which stores discrete or interval values
with corresponding labels that can be applied by using summarise_plus().
Create a format container independent from any data frame. Define which values
should be recoded into which new categories, if the format is applied to
a variable in a data frame.
It is possible to assign a single value to multiple new categories to create
a multilabel.
It is recommended to let format names end with a dot to make them stand out."><meta property="og:image" content="https://s3rdia.github.io/qol/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qol</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/SAS_compare.html">How Does qol Compare to SAS?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/s3rdia/qol/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create Format Container</h1>
      <small class="dont-index">Source: <a href="https://github.com/s3rdia/qol/blob/HEAD/R/create_format.R" class="external-link"><code>R/create_format.R</code></a></small>
      <div class="d-none name"><code>formats.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a format container which stores discrete or interval values
with corresponding labels that can be applied by using <code><a href="summarise_plus.html">summarise_plus()</a></code>.</p>
<p>Create a format container independent from any data frame. Define which values
should be recoded into which new categories, if the format is applied to
a variable in a data frame.
It is possible to assign a single value to multiple new categories to create
a multilabel.
It is recommended to let format names end with a dot to make them stand out.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">discrete_format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">interval_format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>List all the desired recodings/recoding ranges. Every element contains a text for
the new category name and the values/value ranges which should be recoded into this new category.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a data table which contains the values/value ranges with the corresponding labels</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The concept of having formats as molds or stencils to put the data through, is inspired by
'SAS' formats. In 'SAS' formats are defined with the procedure Proc Formats, which is adapted
with <code>discrete_format()</code> and <code>interval_format()</code>. Here you can define, which values
should be transferred into which result categories. This is completely detached from the data
your working with.</p>
<p>The great thing about this is, that one can not only label and recode values, but one can also
define so called multilabels. Meaning, one original value can be transferred into multiple
result categories.</p>
<p>A cell in a data frame can only hold one distinct value, which is normally a good thing.
But let's say you want to convert single ages into age categories. The age "3" for example
could go into the category "under 6", but also in "under 12", "under 18" and "total". Normally
you would compute additional variables, which hold the different categorizations, or you could also
double up the observations for each category. Both ways would just bloat up the data frame and
cost additional memory, particularly if you work with big data sets.</p>
<p>With these format containers, you just keep a small reference of original values and result
categories. Formats and data find their way together only just before computing the results,
meaning the original data frame can be passed into a function capable of handling formats (see below),
without any data transformation beforehand. You just tell the function which format should
be applied to which variable. That's it. The function handles the rest and outputs all the
desired categories.</p>
<p>This method is very memory efficient, readable and user friendly for creating larger and more
complex outputs at the same time.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Functions that can handle formats: <code><a href="summarise_plus.html">summarise_plus()</a></code>, <code><a href="frequencies.html">frequencies()</a></code>, <code><a href="crosstabs.html">crosstabs()</a></code>,
<code><a href="any_table.html">any_table()</a></code>, <code><a href="recode.html">recode_multi()</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="va">age.</span> <span class="op">&lt;-</span> <span class="fu">discrete_format</span><span class="op">(</span></span>
<span>    <span class="st">"Total"</span>          <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">100</span>,</span>
<span>    <span class="st">"under 18"</span>       <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">17</span>,</span>
<span>    <span class="st">"18 to under 25"</span> <span class="op">=</span> <span class="fl">18</span><span class="op">:</span><span class="fl">24</span>,</span>
<span>    <span class="st">"25 to under 55"</span> <span class="op">=</span> <span class="fl">25</span><span class="op">:</span><span class="fl">54</span>,</span>
<span>    <span class="st">"55 to under 65"</span> <span class="op">=</span> <span class="fl">55</span><span class="op">:</span><span class="fl">64</span>,</span>
<span>    <span class="st">"65 and older"</span>   <span class="op">=</span> <span class="fl">65</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sex.</span> <span class="op">&lt;-</span> <span class="fu">discrete_format</span><span class="op">(</span></span>
<span>    <span class="st">"Total"</span>  <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,</span>
<span>    <span class="st">"Male"</span>   <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="st">"Female"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">education.</span> <span class="op">&lt;-</span> <span class="fu">discrete_format</span><span class="op">(</span></span>
<span>    <span class="st">"Total"</span>            <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"middle"</span>, <span class="st">"high"</span><span class="op">)</span>,</span>
<span>    <span class="st">"low education"</span>    <span class="op">=</span> <span class="st">"low"</span>,</span>
<span>    <span class="st">"middle education"</span> <span class="op">=</span> <span class="st">"middle"</span>,</span>
<span>    <span class="st">"high education"</span>   <span class="op">=</span> <span class="st">"high"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">income.</span> <span class="op">&lt;-</span> <span class="fu">interval_format</span><span class="op">(</span></span>
<span>    <span class="st">"Total"</span>              <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">99999</span>,</span>
<span>    <span class="st">"below 500"</span>          <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">499</span>,</span>
<span>    <span class="st">"500 to under 1000"</span>  <span class="op">=</span> <span class="fl">500</span><span class="op">:</span><span class="fl">999</span>,</span>
<span>    <span class="st">"1000 to under 2000"</span> <span class="op">=</span> <span class="fl">1000</span><span class="op">:</span><span class="fl">1999</span>,</span>
<span>    <span class="st">"2000 and more"</span>      <span class="op">=</span> <span class="fl">2000</span><span class="op">:</span><span class="fl">99999</span><span class="op">)</span></span>
<span></span>
<span><span class="va">state.</span> <span class="op">&lt;-</span> <span class="fu">discrete_format</span><span class="op">(</span></span>
<span>    <span class="st">"Germany"</span>                       <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">16</span>,</span>
<span>    <span class="st">"Schleswig-Holstein"</span>            <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    <span class="st">"Hamburg"</span>                       <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    <span class="st">"Lower Saxony"</span>                  <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    <span class="st">"Bremen"</span>                        <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    <span class="st">"North Rhine-Westphalia"</span>        <span class="op">=</span> <span class="fl">5</span>,</span>
<span>    <span class="st">"Hesse"</span>                         <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    <span class="st">"Rhineland-Palatinate"</span>          <span class="op">=</span> <span class="fl">7</span>,</span>
<span>    <span class="st">"Baden-Württemberg"</span>             <span class="op">=</span> <span class="fl">8</span>,</span>
<span>    <span class="st">"Bavaria"</span>                       <span class="op">=</span> <span class="fl">9</span>,</span>
<span>    <span class="st">"Saarland"</span>                      <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    <span class="st">"West"</span>                          <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>    <span class="st">"Berlin"</span>                        <span class="op">=</span> <span class="fl">11</span>,</span>
<span>    <span class="st">"Brandenburg"</span>                   <span class="op">=</span> <span class="fl">12</span>,</span>
<span>    <span class="st">"Mecklenburg-Western Pomerania"</span> <span class="op">=</span> <span class="fl">13</span>,</span>
<span>    <span class="st">"Saxony"</span>                        <span class="op">=</span> <span class="fl">14</span>,</span>
<span>    <span class="st">"Saxony-Anhalt"</span>                 <span class="op">=</span> <span class="fl">15</span>,</span>
<span>    <span class="st">"Thuringia"</span>                     <span class="op">=</span> <span class="fl">16</span>,</span>
<span>    <span class="st">"East"</span>                          <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># With interval formats you can also use the keywords "low" and "high" to</span></span>
<span><span class="co"># catch everything from the lowest to the highest values, in case one doesn't</span></span>
<span><span class="co"># know exactly what the lowest and highest values are.</span></span>
<span><span class="va">income.</span> <span class="op">&lt;-</span> <span class="fu">interval_format</span><span class="op">(</span></span>
<span>    <span class="st">"Total"</span>              <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"high"</span><span class="op">)</span>,</span>
<span>    <span class="st">"below 500"</span>          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="fl">499</span><span class="op">)</span>,</span>
<span>    <span class="st">"500 to under 1000"</span>  <span class="op">=</span> <span class="fl">500</span><span class="op">:</span><span class="fl">999</span>,</span>
<span>    <span class="st">"1000 to under 2000"</span> <span class="op">=</span> <span class="fl">1000</span><span class="op">:</span><span class="fl">1999</span>,</span>
<span>    <span class="st">"2000 and more"</span>      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2000</span>, <span class="st">"high"</span><span class="op">)</span><span class="op">)</span></span>
<span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tim Siebenmorgen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

